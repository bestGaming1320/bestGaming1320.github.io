<!DOCTYPE html>
<html lang="en">
<head>
    <title>Random Color Code Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Tool for generating random hex or rgb color codes. Include a question mark with a number at the end of the URL if you want to generate a custom amount of hex codes directly after the page loads">
    <meta name="author" content="bestGaming132">
    <meta name="keywords" content="tool, tools, hex, generator" />
    <link rel="stylesheet" href="../toolstyle.css?0">
    <link rel="stylesheet" href="../../scroll.css?0">
    <style>
        p {
            margin: 0;
            padding: 4px;
        }

            p.brt {
                color: #ddd;
            }

            p.drk {
                color: #222;
            }

            p.brt:hover, p.brt:focus {
                color: #fff;
                outline: 2px solid #fff;
            }

            p.drk:hover, p.drk:focus {
                color: #000;
                outline: 2px solid #000;
            }

            p.brt:hover, p.brt:focus, p.drk:hover, p.drk:focus {
                font-weight: 700;
                text-decoration: underline
            }

        #copyinfo {
            margin: auto;
            width: 70%
        }
    </style>
</head>

<body align="center">
    <h2 style="margin-bottom:1px">Random Color Code Generator</h2>
    <p>Click on a color code to copy it</p>
    <select id="mode">
        <option value="hex">Mode: HEX Code</option>
        <option value="rgb">Mode: RGB Code</option>
    </select>
    <button class="btn" value="1">Generate 1 Color Code</button><br>
    <button class="btn" value="5">Generate 5 Color Codes</button><br>
    <button class="btn" value="10">Generate 10 Color Codes</button><br>
    <button class="btn" value="25">Generate 25 Color Codes</button><br>
    <button class="btn" value="c">Generate custom amount of color codes</button><br>
    <div class="nobar txt2" id="hop"></div><br>
    <p id="copyinfo"></p>
    <script>
        function num(max) {
            return Math.random() * max << 0
        }
        function gen(mode) {
            var rndCol;
            if (mode == "hex") rndCol = '#' + (num(0xFFFFFF).toString(16).padStart(6, '0'));
            else if (mode == "rgb") rndCol = `rgb(${num(256)}, ${num(256)}, ${num(256)})`
            return rndCol;
        }

        function txtCol(color) {
            if (document.getElementById("mode").value == "rgb") color = color.match(/\d{1,3}/g).map(v => parseInt(v).toString(16).padStart(2, '0')).join("")
            return parseInt(color.slice(1), 16) > 8388607 ? "drk" : "brt"
        }

        function genCol(x) {
            if (x == "c") {
                x = parseInt(prompt("Enter a number"))
                if (isNaN(x)) x = 5
            }
            let output
            document.getElementById("hop").innerHTML = ""
            for (i = 0; i < x; i++) {
                output = gen(document.getElementById("mode").value)
                document.getElementById("hop").innerHTML += '<p onclick="copy(this.innerHTML)" style="background:' + output + '"class="' + txtCol(output) + '" tabindex="0">' + output + '</p>'
            }
        }

        function copy(cont) {
            navigator.clipboard.writeText(cont)
            let ci = document.getElementById("copyinfo")
            ci.innerHTML = "Copied " + cont
            ci.style.color = txtCol(cont) == "drk" ? "#000" : "#fff"
            ci.style.background = cont
        }
        let config = location.search.slice(1).split("&")
        document.getElementById("mode").value = config[1] ? config[1] : "hex"
        genCol(config[0] ? parseInt(config[0]) : 5)

        Array.from(document.getElementsByTagName("button")).forEach(el => {
            el.addEventListener("click", function () { genCol(this.value) })
        })
    </script>
</body>
</html>
