<!DOCTYPE html>
<html lang="en">
<head>
    <title>Json Bookloader</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="A website to load books with json">
    <meta name="author" content="bestGaming132">
    <meta name="keywords" content="book, eBook, json" />
    <link rel="stylesheet" href="../default.css"/>
    <meta charset="UTF-8">
</head>
<body align="center">
    <div style="height:75vh;">
        <p id="cont" style="height:90%;outline:2px solid #333"></p>
        <p id="pageP" onclick="cPag()">0</p>
    </div>
    <button class="bt" style="margin-right:30%" onclick="cPage('p')"><b>&#8592;</b></button>
    <button class="bt" style="margin-left:30%" onclick="cPage('n')"><b>&#8594;</b></button><br><br>
    <button onclick="load()">Load Json</button>
</body>
<script>
    var con = document.getElementById("cont")
    var pag = document.getElementById("pageP")
    var btn = document.getElementsByTagName("button")
    var pages = 2
    var page = 0
    var defJson = { "style": { "txtcol": "#fff", "bgcol": "#000", "btncol": "#fff", "btnbg": "#333", "btnotl": "2px solid #666", "btntxtN": "<b>&#8594;</b>", "btntxtP": "<b>&#8592;</b>" }, "title": "Default Json", "pages": 2, "page1": "Load a Json file or text to start. You can do that by clicking \"Load Json\" and change the page with the arrow buttons below or by clicking on the page number if you want a specific page.", "page2": "To create a book take a look at the <a href='../docs/book.html'>documentation</a> and write the json by hand or use <a onclick='alert(\"Comming Soon\")'><u>Book Creator</u></a>(comming soon)" }
    var input = defJson
    cPage("n")

    function load() {
        input = JSON.parse(prompt("Enter your Json here"))
        if (!input) { input = defJson }
        pages = input.pages
        page = 0
        document.body.style.background = input.style.bgcol
        document.body.style.color = input.style.txtcol
        for (i = 0; i < 3; i++) {
            btn[i].style.color = input.style.btncol
            btn[i].style.background = input.style.btnbg
            btn[i].style.outline = input.style.btnotl
        }
        btn[0].innerHTML = input.style.btntxtP
        btn[1].innerHTML = input.style.btntxtN

        document.title = "Json Book Loader | " + input.title
        cPage("n")
    }
    function cPage(x) {
        if (page < pages && x == "n") {
            page++
            con.innerHTML = input["page" + page]
        } else if (page > 1 && x == "p") {
            page--
            con.innerHTML = input["page" + page]
        }
        pag.innerHTML = page
    }
    function cPag() {
        let nP = parseInt(prompt("Enter a page number"))
        if (nP && nP <= pages && nP > 0) {
            con.innerHTML = input["page" + nP]
            page = nP
            pag.innerHTML = nP
        }
    }
//use <br> for newlines. All html styling tags (like <b> or <span>) work
</script>
<style>
    body {
        text-align:center;
        margin:10px
    }

    .bt {
        height: 30px;
        width: 70px;
    }
</style>
</html>
